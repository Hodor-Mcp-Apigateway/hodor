@baseUrl = https://localhost:80
@contentType = application/json
@apiVersion = 1.0

### Health Check - Uygulamanın çalıştığını kontrol et
GET {{baseUrl}}/health/startup
Accept: {{contentType}}

### Swagger UI'ı aç
GET {{baseUrl}}/swagger
Accept: text/html

### API Version bilgisini al
GET {{baseUrl}}/api/v{{apiVersion}}/version
Accept: {{contentType}}

### SendMoney Request için örnek data oluştur
### Bu isteği çalıştırmadan önce aşağıdaki değişkenleri güncelleyin
# @name createSendMoneyRequest

@sourceAccountId = 12345
@destinationAccountId = 67890
@amount = 100.50
@currencyId = 1
@tenantId = 42
@description = Para transferi açıklaması
@remoteIpAddress = 192.168.1.100

### SendMoney Request Gönder
POST {{baseUrl}}/api/v{{apiVersion}}/wallet/sendmoney
Content-Type: {{contentType}}
Accept: {{contentType}}

{
  "sourceAccountId": {{sourceAccountId}},
  "destinationAccountId": {{destinationAccountId}},
  "amount": {{amount}},
  "currencyId": {{currencyId}},
  "tenantId": {{tenantId}},
  "description": "{{description}}",
  "remoteIpAddress": "{{remoteIpAddress}}"
}

### SendMoney Request Gönder (Alternatif örnek)
POST {{baseUrl}}/api/v{{apiVersion}}/wallet/sendmoney
Content-Type: {{contentType}}
Accept: {{contentType}}

{
  "sourceAccountId": 1001,
  "destinationAccountId": 2002,
  "amount": 500.75,
  "currencyId": 1,
  "tenantId": 1,
  "description": "Maaş ödemesi",
  "remoteIpAddress": "192.168.1.150"
}

### Hata durumları için test senaryoları

### Geçersiz Source Account ID ile istek gönder
POST {{baseUrl}}/api/v{{apiVersion}}/wallet/sendmoney
Content-Type: {{contentType}}
Accept: {{contentType}}

{
  "sourceAccountId": 999999,
  "destinationAccountId": 2002,
  "amount": 100,
  "currencyId": 1,
  "tenantId": 1,
  "description": "Geçersiz kaynak hesap testi"
}

### Yetersiz bakiye ile istek gönder
POST {{baseUrl}}/api/v{{apiVersion}}/wallet/sendmoney
Content-Type: {{contentType}}
Accept: {{contentType}}

{
  "sourceAccountId": 1001,
  "destinationAccountId": 2002,
  "amount": 999999.99,
  "currencyId": 1,
  "tenantId": 1,
  "description": "Yetersiz bakiye testi"
}

### Zorunlu alanları eksik gönder
POST {{baseUrl}}/api/v{{apiVersion}}/wallet/sendmoney
Content-Type: {{contentType}}
Accept: {{contentType}}

{
  "sourceAccountId": 1001,
  "amount": 100,
  "currencyId": 1,
  "tenantId": 1
}

### Authentication testi (Eğer JWT kullanıyorsanız)
# @name login
POST {{baseUrl}}/api/v{{apiVersion}}/auth/login
Content-Type: {{contentType}}

{
  "username": "testuser",
  "password": "testpassword"
}

###
@authToken = {{login.response.body.$.token}}

### Authenticated SendMoney Request
POST {{baseUrl}}/api/v{{apiVersion}}/wallet/sendmoney
Content-Type: {{contentType}}
Accept: {{contentType}}
Authorization: Bearer {{authToken}}

{
  "sourceAccountId": 1001,
  "destinationAccountId": 2002,
  "amount": 100,
  "currencyId": 1,
  "tenantId": 1,
  "description": "Authenticated transfer"
}

### Transaction geçmişini getir
GET {{baseUrl}}/api/v{{apiVersion}}/wallet/transactions
Accept: {{contentType}}

### Belirli bir transaction'ı getir
GET {{baseUrl}}/api/v{{apiVersion}}/wallet/transactions/1
Accept: {{contentType}}

### Account balance sorgula
GET {{baseUrl}}/api/v{{apiVersion}}/wallet/account/{{sourceAccountId}}/balance
Accept: {{contentType}}
